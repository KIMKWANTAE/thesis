==================================================
RAG 시스템 성능 평가 보고서
==================================================

질문 1: 강백호는 마약을 거래한 것으로 의심받고 있습니다. 강백호는 마약을 어디에 두라고 했나요? 불필요한 답변은 제외하고 정확한 장
소만 써주세요. (예시 : 공주대학교 식당 앞)
정답: SNU 도서관 앞 세번째 벤치, SNU 도서관 앞 세 번째 벤치에
RAG 답변: SNU 도서관 앞 세번째 벤치

검색된 문서:
  문서 1: 20240103_1105_강사장.txt
  문서 2: 20240103_1100_백사장.txt
  문서 3: 20240103_2105_백사장.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 1.0000
  rouge: 1.0000
  similarity: 1.0000

--------------------------------------------------

질문 2: 모바일 포렌식 결과에서 이소연의 구글 계정 아이디는 무엇인가요?
정답: lee@gmail.com, leegmail.com, lee
RAG 답변: 이소연의 구글 계정 아이디는 lee@gmail.com입니다.

검색된 문서:
  문서 1: IMG002.txt
  문서 2: thumbnail_bned3nuj.txt
  문서 3: mobile_forensic_data.xlsx - Account Info

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 0.0000
  rouge: 0.0000
  similarity: 0.5653

--------------------------------------------------

질문 3: Photos에 있는 IMG009.jpg 파일의 create time은 언제인가요?
정답: 2024-01-09 18:00, 2024-01-09 6:00:00 PM, 2024년 1월 9일 오후 6시
RAG 답변: 2024-01-09 18:00:00.035000

검색된 문서:
  문서 1: mobile_forensic_data.xlsx - Photos
  문서 2: IMG002.txt
  문서 3: mobile_forensic_data.xlsx - Messages

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 0.2236
  rouge: 0.5000
  similarity: 0.9351

--------------------------------------------------

질문 4: 모바일 포렌식 결과에서 사무실 와이파이 MAC 주소는 무엇인가요?
정답: 00:0a:95:9d:68:17
RAG 답변: 제공된 컨텍스트에는 사무실 와이파이 MAC 주소에 대한 정보가 포함되어 있지 않습니다.

검색된 문서:
  문서 1: IMG002.txt
  문서 2: thumbnail_bned3nuj.txt
  문서 3: 20240110_1105_홍사장.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 0.0000
  rouge: 0.0000
  similarity: 0.0549

--------------------------------------------------

질문 5: 모바일 포렌식 결과의 call log에서 강백호와 백사장은 총 몇번의 통화를 주고 받았나요?
정답: 2번, 두 번, 2회, 두번
RAG 답변: 강백호와 백사장은 총 2번의 통화를 주고 받았습니다.

검색된 문서:
  문서 1: 20240110_1105_홍사장.txt
  문서 2: thumbnail_bned3nuj.txt
  문서 3: 범죄사실2.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 0.0000
  rouge: 0.0000
  similarity: 0.5879

--------------------------------------------------

질문 6: 모바일 포렌식 결과의 메세지에서 서태웅과 강백호는 어디서 만나기로 약속했나요?
정답: PC방
RAG 답변: 스타벅스 대구법원점에서 2024년 1월 4일 12시에 SNU 도서관 앞 세번째 벤치에서 만나기로 약속했습니다.

검색된 문서:
  문서 1: thumbnail_bned3nuj.txt
  문서 2: 20240109_1105_서태웅.txt
  문서 3: 20240103_1105_강사장.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 0.0000
  rouge: 0.0000
  similarity: 0.3859

--------------------------------------------------

질문 7: 모바일 포렌식 결과의 오디오에서 2024년1월7일 11시5분에 채치수와 통화한 녹음파일의 길이는 몇 분인가요?
정답: 6분
RAG 답변: 6분

검색된 문서:
  문서 1: IMG002.txt
  문서 2: thumbnail_bned3nuj.txt
  문서 3: mobile_forensic_data.xlsx - audio

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 0.3162
  rouge: 1.0000
  similarity: 1.0000

--------------------------------------------------

질문 8: 강백호는 노가다를 했습니다. 월급은 누구한테 받게 될까요?
정답: 홍사장
RAG 답변: 강백호는 월급을 홍사장에게서 받게 됩니다.

검색된 문서:
  문서 1: 20240110_1105_홍사장.txt
  문서 2: 20240107_1105_채치수.txt
  문서 3: 20240101_1105_고길동.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 0.0000
  rouge: 0.0000
  similarity: 0.8171

--------------------------------------------------

질문 9: 모바일 포렌식 결과에서 장치 시리얼 번호는 무엇인가요?
정답: ABC123
RAG 답변: ABC123

검색된 문서:
  문서 1: mobile_forensic_data.xlsx - Device Info
  문서 2: IMG002.txt
  문서 3: thumbnail_bned3nuj.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 0.3162
  rouge: 1.0000
  similarity: 1.0000

--------------------------------------------------

질문 10: 강백호가 소연이랑 다투고 머리를 밀친 후 백사장에게 도움을 요청한 날짜와 시간은 언제인가요? 불필요한 답변은 제외하고 정확
한 날짜와 시간만 써주세요. (예시 : 2023.1.1. 12:15)
정답: 2024.1.4. 23:55, 2024년 1월 4일 23시 55분, 2024년 1월 4일 23:55
RAG 답변: 2024.1.4. 23:55

검색된 문서:
  문서 1: thumbnail_bned3nuj.txt
  문서 2: 20240110_1105_홍사장.txt
  문서 3: IMG002.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 1.0000
  rouge: 1.0000
  similarity: 1.0000

--------------------------------------------------

RAGAS 평가 결과:
context_precision: 0.7750
faithfulness: 0.3333
answer_relevancy: 0.3377
context_recall: 0.7000

평균 추가 평가 메트릭 결과:
precision@k: 1.0000
recall@k: 1.0000
bleu: 0.2856
rouge: 0.4500
similarity: 0.7346

문서 관련성 디버깅:

질문 1: 강백호는 마약을 거래한 것으로 의심받고 있습니다. 강백호는 마약을 어디에 두라고 했나요? 불필요한 답변은 제외하고 정확한 장
소만 써주세요. (예시 : 공주대학교 식당 앞)
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 5%, 정답 유사도: 0%) - 20240103_1105_강사장.txt
  문서 2: 무관 (질문 유사도: 5%, 정답 유사도: 0%) - 20240103_1100_백사장.txt
  문서 3: 무관 (질문 유사도: 5%, 정답 유사도: 0%) - 20240103_2105_백사장.txt
관련 있다고 판단된 문서 수: 0

질문 2: 모바일 포렌식 결과에서 이소연의 구글 계정 아이디는 무엇인가요?
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 0%, 정답 유사도: 20%) - IMG002.txt
  문서 2: 무관 (질문 유사도: 0%, 정답 유사도: 36%) - thumbnail_bned3nuj.txt
  문서 3: 무관 (질문 유사도: 9%, 정답 유사도: 67%) - mobile_forensic_data.xlsx - Account Info
관련 있다고 판단된 문서 수: 0

질문 3: Photos에 있는 IMG009.jpg 파일의 create time은 언제인가요?
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 26%, 정답 유사도: 18%) - mobile_forensic_data.xlsx - Photos
  문서 2: 무관 (질문 유사도: 50%, 정답 유사도: 20%) - IMG002.txt
  문서 3: 무관 (질문 유사도: 28%, 정답 유사도: 18%) - mobile_forensic_data.xlsx - Messages
관련 있다고 판단된 문서 수: 0

질문 4: 모바일 포렌식 결과에서 사무실 와이파이 MAC 주소는 무엇인가요?
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 10%, 정답 유사도: 10%) - IMG002.txt
  문서 2: 무관 (질문 유사도: 9%, 정답 유사도: 17%) - thumbnail_bned3nuj.txt
  문서 3: 무관 (질문 유사도: 0%, 정답 유사도: 33%) - 20240110_1105_홍사장.txt
관련 있다고 판단된 문서 수: 0

질문 5: 모바일 포렌식 결과의 call log에서 강백호와 백사장은 총 몇번의 통화를 주고 받았나요?
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 10%, 정답 유사도: 50%) - 20240110_1105_홍사장.txt
  문서 2: 무관 (질문 유사도: 9%, 정답 유사도: 0%) - thumbnail_bned3nuj.txt
  문서 3: 무관 (질문 유사도: 11%, 정답 유사도: 50%) - 범죄사실2.txt
관련 있다고 판단된 문서 수: 0

질문 6: 모바일 포렌식 결과의 메세지에서 서태웅과 강백호는 어디서 만나기로 약속했나요?
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 0%, 정답 유사도: 0%) - thumbnail_bned3nuj.txt
  문서 2: 무관 (질문 유사도: 14%, 정답 유사도: 0%) - 20240109_1105_서태웅.txt
  문서 3: 무관 (질문 유사도: 5%, 정답 유사도: 0%) - 20240103_1105_강사장.txt
관련 있다고 판단된 문서 수: 0

질문 7: 모바일 포렌식 결과의 오디오에서 2024년1월7일 11시5분에 채치수와 통화한 녹음파일의 길이는 몇 분인가요?
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 20%, 정답 유사도: 0%) - IMG002.txt
  문서 2: 무관 (질문 유사도: 0%, 정답 유사도: 0%) - thumbnail_bned3nuj.txt
  문서 3: 무관 (질문 유사도: 6%, 정답 유사도: 0%) - mobile_forensic_data.xlsx - audio
관련 있다고 판단된 문서 수: 0

질문 8: 강백호는 노가다를 했습니다. 월급은 누구한테 받게 될까요?
검색된 문서 수: 3
검색된 문서:
  문서 1: 관련 (질문 유사도: 0%, 정답 유사도: 100%) - 20240110_1105_홍사장.txt
  문서 2: 무관 (질문 유사도: 0%, 정답 유사도: 0%) - 20240107_1105_채치수.txt
  문서 3: 무관 (질문 유사도: 0%, 정답 유사도: 0%) - 20240101_1105_고길동.txt
관련 있다고 판단된 문서 수: 1

질문 9: 모바일 포렌식 결과에서 장치 시리얼 번호는 무엇인가요?
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 11%, 정답 유사도: 17%) - mobile_forensic_data.xlsx - Device Info
  문서 2: 무관 (질문 유사도: 0%, 정답 유사도: 17%) - IMG002.txt
  문서 3: 무관 (질문 유사도: 0%, 정답 유사도: 33%) - thumbnail_bned3nuj.txt
관련 있다고 판단된 문서 수: 0

질문 10: 강백호가 소연이랑 다투고 머리를 밀친 후 백사장에게 도움을 요청한 날짜와 시간은 언제인가요? 불필요한 답변은 제외하고 정확
한 날짜와 시간만 써주세요. (예시 : 2023.1.1. 12:15)
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 5%, 정답 유사도: 9%) - thumbnail_bned3nuj.txt
  문서 2: 무관 (질문 유사도: 38%, 정답 유사도: 45%) - 20240110_1105_홍사장.txt
  문서 3: 무관 (질문 유사도: 20%, 정답 유사도: 20%) - IMG002.txt
관련 있다고 판단된 문서 수: 0

BLEU, ROUGE, similarity 점수 상세 분석:

질문 1:
RAG 답변: SNU 도서관 앞 세번째 벤치
정답: SNU 도서관 앞 세번째 벤치, SNU 도서관 앞 세 번째 벤치에
BLEU 점수: 1.0000
ROUGE 점수: 1.0000
Similarity 점수: 1.0000
단어 단위 비교:
정답에 있는 단어 수: 5
RAG 답변에 있는 단어 수: 5
공통 단어 수: 5
공통 단어: 앞, 도서관, 벤치, snu, 세번째
정답에만 있는 단어:
RAG 답변에만 있는 단어:

질문 2:
RAG 답변: 이소연의 구글 계정 아이디는 lee@gmail.com입니다.
정답: lee@gmail.com, leegmail.com, lee
BLEU 점수: 0.0000
ROUGE 점수: 0.0000
Similarity 점수: 0.5653
단어 단위 비교:
정답에 있는 단어 수: 1
RAG 답변에 있는 단어 수: 5
공통 단어 수: 0
공통 단어:
정답에만 있는 단어: leegmailcom
RAG 답변에만 있는 단어: 계정, 이소연의, 구글, leegmailcom입니다, 아이디는

질문 3:
RAG 답변: 2024-01-09 18:00:00.035000
정답: 2024-01-09 18:00, 2024-01-09 6:00:00 PM, 2024년 1월 9일 오후 6시
BLEU 점수: 0.2236
ROUGE 점수: 0.5000
Similarity 점수: 0.9351
단어 단위 비교:
정답에 있는 단어 수: 2
RAG 답변에 있는 단어 수: 2
공통 단어 수: 1
공통 단어: 20240109
정답에만 있는 단어: 1800
RAG 답변에만 있는 단어: 180000035000

질문 4:
RAG 답변: 제공된 컨텍스트에는 사무실 와이파이 MAC 주소에 대한 정보가 포함되어 있지 않습니다.
정답: 00:0a:95:9d:68:17
BLEU 점수: 0.0000
ROUGE 점수: 0.0000
Similarity 점수: 0.0549
단어 단위 비교:
정답에 있는 단어 수: 1
RAG 답변에 있는 단어 수: 11
공통 단어 수: 0
공통 단어:
정답에만 있는 단어: 000a959d6817
RAG 답변에만 있는 단어: 제공된, mac, 사무실, 않습니다, 정보가, 대한, 주소에, 포함되어, 컨텍스트에는, 와이파이, 있지

질문 5:
RAG 답변: 강백호와 백사장은 총 2번의 통화를 주고 받았습니다.
정답: 2번, 두 번, 2회, 두번
BLEU 점수: 0.0000
ROUGE 점수: 0.0000
Similarity 점수: 0.5879
단어 단위 비교:
정답에 있는 단어 수: 1
RAG 답변에 있는 단어 수: 7
공통 단어 수: 0
공통 단어:
정답에만 있는 단어: 2번
RAG 답변에만 있는 단어: 총, 통화를, 백사장은, 주고, 2번의, 강백호와, 받았습니다

질문 6:
RAG 답변: 스타벅스 대구법원점에서 2024년 1월 4일 12시에 SNU 도서관 앞 세번째 벤치에서 만나기로 약속했습니다.
정답: PC방
BLEU 점수: 0.0000
ROUGE 점수: 0.0000
Similarity 점수: 0.3859
단어 단위 비교:
정답에 있는 단어 수: 1
RAG 답변에 있는 단어 수: 13
공통 단어 수: 0
공통 단어:
정답에만 있는 단어: pc방
RAG 답변에만 있는 단어: 세번째, 만나기로, 대구법원점에서, 벤치에서, 앞, 2024년, 12시에, 약속했습니다, 도서관, 1월, 스타벅스, snu, 4일

질문 7:
RAG 답변: 6분
정답: 6분
BLEU 점수: 0.3162
ROUGE 점수: 1.0000
Similarity 점수: 1.0000
단어 단위 비교:
정답에 있는 단어 수: 1
RAG 답변에 있는 단어 수: 1
공통 단어 수: 1
공통 단어: 6분
정답에만 있는 단어:
RAG 답변에만 있는 단어:

질문 8:
RAG 답변: 강백호는 월급을 홍사장에게서 받게 됩니다.
정답: 홍사장
BLEU 점수: 0.0000
ROUGE 점수: 0.0000
Similarity 점수: 0.8171
단어 단위 비교:
정답에 있는 단어 수: 1
RAG 답변에 있는 단어 수: 5
공통 단어 수: 0
공통 단어:
정답에만 있는 단어: 홍사장
RAG 답변에만 있는 단어: 됩니다, 월급을, 홍사장에게서, 받게, 강백호는

질문 9:
RAG 답변: ABC123
정답: ABC123
BLEU 점수: 0.3162
ROUGE 점수: 1.0000
Similarity 점수: 1.0000
단어 단위 비교:
정답에 있는 단어 수: 1
RAG 답변에 있는 단어 수: 1
공통 단어 수: 1
공통 단어: abc123
정답에만 있는 단어:
RAG 답변에만 있는 단어:

질문 10:
RAG 답변: 2024.1.4. 23:55
정답: 2024.1.4. 23:55, 2024년 1월 4일 23시 55분, 2024년 1월 4일 23:55
BLEU 점수: 1.0000
ROUGE 점수: 1.0000
Similarity 점수: 1.0000
단어 단위 비교:
정답에 있는 단어 수: 2
RAG 답변에 있는 단어 수: 2
공통 단어 수: 2
공통 단어: 2355, 202414
정답에만 있는 단어:
RAG 답변에만 있는 단어:

평가 완료

평가 메트릭 설명:
RAGAS 메트릭:
1. Context Precision: 생성된 답변에 사용된 컨텍스트의 정확도
2. Faithfulness: 생성된 답변이 제공된 컨텍스트에 충실한 정도
3. Answer Relevancy: 생성된 답변이 질문에 관련된 정도
4. Context Recall: 관련 있는 모든 정보가 검색된 컨텍스트에 포함된 정도

추가 메트릭:
5. Precision@k: 검색된 상위 k개 문서 중 관련 있는 문서의 비율
6. Recall@k: 관련 있는 모든 문서 중 검색된 상위 k개 문서에 포함된 비율
7. BLEU: 생성된 답변과 정답 간의 n-gram 유사도
8. ROUGE: 생성된 답변과 정답 간의 단어 중복률
9. Similarity: 생성된 답변과 정답 간의 의미적 유사도 (Sentence Transformer 사용)

주의: 이 평가는 제한된 데이터셋과 간소화된 관련성 판단 기준을 사용하였으므로, 실제 성능은 다를 수 있습니다.