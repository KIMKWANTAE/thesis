==================================================
RAG 시스템 성능 평가 보고서
==================================================

질문 1: 강백호는 마약을 거래한 것으로 의심받고 있습니다. 강백호는 마약을 어디에 두라고 했나요? 불필요한 답변은 제외하고 정확한 장소만 써주세요. (예시 : 공주대학교 식당 앞)
정답: SNU 도서관 앞 세번째 벤치, SNU 도서관 앞 세 번째 벤치에
RAG 답변: SNU 도서관 앞 세번째 벤치

검색된 문서:
  문서 1: 20240103_1105_강사장.txt
  문서 2: 20240103_1100_백사장.txt
  문서 3: 20240103_2105_백사장.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 1.0000
  rouge: 1.0000
  similarity: 1.0000

--------------------------------------------------

질문 2: 강백호가 소연이랑 다투고 머리를 밀친 후 백사장에게 도움을 요청한 날짜와 시간은 언제인가요? 불필요한 답변은 제외하고 정확한 날짜와 시간 
만 써주세요. (예시 : 2023.1.1. 12:15)
정답: 2024.1.4. 23:55, 2024년 1월 4일 23시 55분, 2024년 1월 4일 23:55
RAG 답변: 2024.1.4. 23:55

검색된 문서:
  문서 1: thumbnail_bned3nuj.txt
  문서 2: 20240110_1105_홍사장.txt
  문서 3: IMG002.txt

개별 메트릭 점수:
  precision@k: 1.0000
  recall@k: 1.0000
  bleu: 1.0000
  rouge: 1.0000
  similarity: 1.0000

--------------------------------------------------

RAGAS 평가 결과:
context_precision: 1.0000
faithfulness: 1.0000
answer_relevancy: 0.3929
context_recall: 0.5000

평균 추가 평가 메트릭 결과:
precision@k: 1.0000
recall@k: 1.0000
bleu: 1.0000
rouge: 1.0000
similarity: 1.0000

문서 관련성 디버깅:

질문 1: 강백호는 마약을 거래한 것으로 의심받고 있습니다. 강백호는 마약을 어디에 두라고 했나요? 불필요한 답변은 제외하고 정확한 장소만 써주세요. (예시 : 공주대학교 식당 앞)
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 5%, 정답 유사도: 0%) - 20240103_1105_강사장.txt
  문서 2: 무관 (질문 유사도: 5%, 정답 유사도: 0%) - 20240103_1100_백사장.txt
  문서 3: 무관 (질문 유사도: 5%, 정답 유사도: 0%) - 20240103_2105_백사장.txt
관련 있다고 판단된 문서 수: 0

질문 2: 강백호가 소연이랑 다투고 머리를 밀친 후 백사장에게 도움을 요청한 날짜와 시간은 언제인가요? 불필요한 답변은 제외하고 정확한 날짜와 시간 
만 써주세요. (예시 : 2023.1.1. 12:15)
검색된 문서 수: 3
검색된 문서:
  문서 1: 무관 (질문 유사도: 5%, 정답 유사도: 9%) - thumbnail_bned3nuj.txt
  문서 2: 무관 (질문 유사도: 38%, 정답 유사도: 45%) - 20240110_1105_홍사장.txt
  문서 3: 무관 (질문 유사도: 20%, 정답 유사도: 20%) - IMG002.txt
관련 있다고 판단된 문서 수: 0

BLEU, ROUGE, similarity 점수 상세 분석:

질문 1:
RAG 답변: SNU 도서관 앞 세번째 벤치
정답: SNU 도서관 앞 세번째 벤치, SNU 도서관 앞 세 번째 벤치에
BLEU 점수: 1.0000
ROUGE 점수: 1.0000
Similarity 점수: 1.0000
단어 단위 비교:
정답에 있는 단어 수: 5
RAG 답변에 있는 단어 수: 5
공통 단어 수: 5
공통 단어: 세번째, snu, 도서관, 벤치, 앞
정답에만 있는 단어:
RAG 답변에만 있는 단어:

질문 2:
RAG 답변: 2024.1.4. 23:55
정답: 2024.1.4. 23:55, 2024년 1월 4일 23시 55분, 2024년 1월 4일 23:55
BLEU 점수: 1.0000
ROUGE 점수: 1.0000
Similarity 점수: 1.0000
단어 단위 비교:
정답에 있는 단어 수: 2
RAG 답변에 있는 단어 수: 2
공통 단어 수: 2
공통 단어: 202414, 2355
정답에만 있는 단어:
RAG 답변에만 있는 단어:

평가 완료

평가 메트릭 설명:
RAGAS 메트릭:
1. Context Precision: 생성된 답변에 사용된 컨텍스트의 정확도
2. Faithfulness: 생성된 답변이 제공된 컨텍스트에 충실한 정도
3. Answer Relevancy: 생성된 답변이 질문에 관련된 정도
4. Context Recall: 관련 있는 모든 정보가 검색된 컨텍스트에 포함된 정도

추가 메트릭:
5. Precision@k: 검색된 상위 k개 문서 중 관련 있는 문서의 비율
6. Recall@k: 관련 있는 모든 문서 중 검색된 상위 k개 문서에 포함된 비율
7. BLEU: 생성된 답변과 정답 간의 n-gram 유사도
8. ROUGE: 생성된 답변과 정답 간의 단어 중복률
9. Similarity: 생성된 답변과 정답 간의 의미적 유사도 (Sentence Transformer 사용)

주의: 이 평가는 제한된 데이터셋과 간소화된 관련성 판단 기준을 사용하였으므로, 실제 성능은 다를 수 있습니다.